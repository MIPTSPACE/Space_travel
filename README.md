# Space_Rangers


Цель проекта:

 	- Моделирование полета корабля с Земли на другую планету Солнечной системы, реализовать расчет возможных орбит и расходов на полёт по каждой орбите для подбора оптимальной техники, визуализацию полета



Общая идея задачи:
	
	- SpaceRangers - бесплатный космический симулятор, который позволит Вам исследовать Солнечную систему  в двух измерениях и составить маршрут межпланетного путешествия(начиная с родной планеты и заканчивая любой другой планетой солнечной системы); посмотреть основные энциклопедические данные о планетах; выбрать корабль для полета и посмотреть основные затраты на полет (топливо, время и т.д.)



Возможности:

	● Расчет оптимальной траектории для полета корабля из одной планеты к другой.
	● Представлены основные типы космических объектов: солнце, планеты.
	● Автопилот типа "выбрал и лети": достаточно кликнуть по объекту мышкой и 
	  нажать 'G', чтобы автоматически перелететь к нему.
	● Автоматическая привязка наблюдателя к движущемуся объекту и автоматический
	  выбор оптимальной скорости полёта.
	● Поиск объектов по имени, масштабируемая карта Вселенной,карта планетной 
	  системы , журнал автопилота.
	● Встроенная энциклопедия с описаниями планеты (описание характеристик-- 
	  перегелий. афелий, эксцентриситет орбиты,физические характеристики). 
	● Движения планет по орбитам просчитываются в реальном времени, возможно 
          ускорение, замедление и инверсия течения времени.
	● Отображение орбит планет, векторов скорости и вращения, меток, координатной 
          сетки, указателя выбранного объекта, вектора текущей скорости.
	● Световые эффекты: короны, солнечные затмения, тени от колец, освещение 
          планетарных тел друг другом.
	● Оригинальная фоновая музыка с контекстным переключением треков.
	● Возможность выбора корабля для полета. 
	● Строковый командный анализатор.



Подзадачи: 

	В поставленной задаче можно выделить несколько взаимосвязанных подзадач, а именно:
		●физика солнечной системы
		● физика летательных аппаратов
		● расчет возможных траекторий 
		● поиск оптимального решения для траектории полета
		● вывод информации о расходах для полета
		● работа с данными (сохранение отчета  о полете, возможность просмотреть полет. сохраненный раньше)
		● командный анализатор 
		● визуализация. 



Детальное описание содержания подзадач	:

	1)Физика солнечной системы
		Моделирование движения планет.
		Моделирование освещения тел солнцем.
		Используя исходные данные, программа визуализирует модель Солнечной системы,
                включая орбиту выбранного объекта. Для управления анимацией предусмотрено
		соответствующее меню.Оно предусматривает следующие манипуляции со временем
		воспроизведения: 
			--ускорение и замедление 
			--полная остановка 
			--перемотка на интересующую дату
			--пошаговый режим просмотра
		В пользователя есть возможность посмотреть характеристики каждой планеты
			список --->https://github.com/MIPTSPACE/Space_travel/tree/master/Program_Data/Planets/%D0%A1haracteristics
		
	2)Физика летательных аппаратов
		Моделирование  летательных аппаратов:
			Возможность просмотра основных характеристик(вес, размеры и т.д.)
			Функция расчета топлива в зависимости от движения
				Постановка задачи и принятые упрощения
					Виртуально разгонять ракету в вакууме вдали от планет мне показалось неинтересным. Поэтому 
					задачей будет стартовать с Земли. Расчет аэродинамического сопротивления и выхода на орбиту 
					с поверхности представился сложным, поэтому будут сделаны некоторые приближение(о них ниже):
				Входные параметры:
					 В качестве входных данных были выбраны следующие параметры:	
						●Тяга двигателя в килоньютонах
						●Эффективная скорость истечения
						●Сухая масса двигателей, кг.
						●Расход всех компонентов топлива одним двигателем, килограмм в секунду.
						●Масса топлива, кг.
				Не учитывающиеся параметры:
					Для упрощения задачи не учитываются:
						●Потери на трение о воздух.
						●Изменение тяги в зависимости от атмосферного давления.
						●Потери времени на разделение ступеней.
						●Изменения тяги двигателей на участке максимального скоростного напора.
						●Учитывается только одна компоновка — с последовательным расположением ступеней.
				Физики и математики(описание процесса):
					Идея задачи следующая-- выйти из гравитационного поля Земли с нужной для полета скоростью.
					(Первое приближение) Найдем связь между массой ракеты m(t), достигнутой ею скоростью v(t)
					и временем t, если ракета движется вертикально вверх в поле земной тяжести. Скорость газовой 
					струи относительно ракеты зависит от выбранного нами топлива и в данной задаче будем считать 
					постоянной. Сопротивление воздуха и изменение ускорения силы тяжести g с высотой не учитываем.
					Найдем зависимость скорости ракеты от времени. и массы ракеты от времени.
						Решение:
						Согласно  уравнение движения тела переменной массы имеет вид:  m*dv/dt=-Votn*(dm/dt)-gt, где М –
					         масса тела в момент времени t, F –внешняя сила, действующая на тело, – скорость тела в 
						момент t, dm/dt– расход массы, Votn – скорость выброшенной массы относительно 
						тела. 
						Предполагая, что на протяжении всего полёта сила гравитационного взаимодействия тела (в нашем 
						случае – ракеты) с Землёй остаётся постоянной, получим:
							 следующее решение уравнения
			 				 v=Votn*ln(M0/m)-gt   Теперь перейдем к приращениям 
							 v(i+1)-v(i)=Votn*ln(M(i)/M(i+1))-g(t(i+1)-t(i));
							 M(i)=M-i*delta(M)*(t(i+1)-t(i))
							 За  время t(i+1)-t(i) корабль поднимется на высоту
							 H(i+1)-H(i) =v(i)*(t(i+1)-t(i))
							Таким образом мы можем найти все значения после и-й итерации, если у нас усть расход топлива
							И найти высоту на которой при заданном расходе мы наберем необходимую скорость.  Программа сможет 
							посчитать будет ли возможным полет при заданном выборе параметров. Если нет(не хватило топлива, 
							поднялись на большую высоту чем нужно для данной полета  и т.д. ), тогда полет будет неуспешным
							и программа предложит свое решение задачи о конкретном полете. Сделает она это следующим образом:
							численными методами интегрирования найдем такой расход топлива, чтобы система уравнений
							v(i+1)-v(i)=Votn*ln(M(i)/M(i+1))-g(t(i+1)-t(i)); 
							H(i+1)-H(i) =v(i)*(t(i+1)-t(i)  будем искать M(i)/M(i+1) такое , чтобы на определенной высоте 
							H(высота где корабль плохо чувствует поле земли (например 0.1g)) он имел определенную скорость
							v необходимую для определенного полета. Таким образом мы сможем оценить необходимый запас топлива 
							для выполнения данного маневра.
							 
						

					

					(Решение проблемы поворотов корабля для коррекции траектории). 
					Постановка задачи: Космический кораблю движется с постоянной по величине скоростью v.
					Для изменения направления его полета  включается двигатель, выбрасывающий струю газа 
					со скоростью Votn относительно корабля в направлении, перпендикулярном к его текущей траектории.
					Определим затраты топлива для осуществления поворота на угол ф.
						Решение:
						Ускорения корабля по абсолютной  величине равно w^2*r=w*v,причем  v=const,поэтому уравнение 
						движения  
					           m*dv/dt=Votn*(dm/dt) 
						переходит в m*v*w*dt=-Votn*dm  Замечая. что dф=w*dt есть угол поворота за время dt , и интегрируя 
						получим   ф=Votn/v*ln(Mo/m),  где Votn-- скорость испускания топлива,  Мо- масса ракеты с топливом
					        до поворота  m--конечная масса , v-сокрость корабля.
					

							
	3)Расчет возможных траекторий  и оптимизации
		 На данном этапе для возможных траекторий используются только расчеты нужных скоростей  http://pskgu.ru/ebooks/lewantov/lewmkp_13.pdf
			
			файл с теорией --->https://github.com/MIPTSPACE/Space_travel/tree/master/documents 
	4)Вывод отчета о полете
		Программа сохраняет данные о полете и рисует необходимую информацию
			-- график зависимости скорости движения от времени
			-- график зависимости расстояния между планетой и кораблем от времени
			-- график траектории
			-- график зависимости топлива от времени
	5) Командный анализатор
		Удобная командная строка для осуществления всех необходимых движений
		+++возможность добавления своих команд.
	6)Визуализация 
 		Создание макета планет и солнечной системой, работа с окошками и оформления дизайна программы.
		Представление графиков и зависимостей.


		



Состав работ и исполнители:

		1) физика солнечной системы(Волошенюк Сергей)
		2) физика летательных аппаратов (Волошенюк Сергей)
		3) расчет возможных траекторий (Ливинюк Виктор)
		4) поиск оптимального решения для траетории полета (Ливинюк Виктор)
		5) вывод информации о расходах полета (Калачева Дарья)
		6) работа с данными (Волошенюк Сергей, Калачева Дарья)
		7) командный анализатор  (Волошенюк Сергей, Ливинюк Виктор)
		8)визуализация (Калачева Дарья)
Сроки:
		6.04 Работа с данными
		13.04 Физика солнечной системы (финальная версия)
		17,04 командный анализатор
		20,04 Физика литательных апаратов
		20.04 Расчет возможных траекторий, поиск оптимального решения
		21.04 визуализация+ вывод информации о расходах полета
		22.04 - срок показа альфа продуктов.
		06.05 - срок почти полной готовности

Системные требования:
		Os Linux

нужно ботать!



